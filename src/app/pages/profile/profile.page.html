<ion-header>
  <ion-toolbar>
    <ion-title *ngIf="loaded">{{fire.myProfile.name }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="addPhotoToGallery()">
        <ion-icon name="camera-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="loaded">
  <div class="profileDescription">
    <ion-row class="ion-padding-horizontal ion-align-items-center">
      <!----------------------- Profile Photo -------------------->
      <ion-col size="3">
        <img src="{{fire.myProfile.avatar}}" alt="" class="avatar" />
      </ion-col>
      <!----------------------- Profile Stats ------------------>
      <ion-col size="9">
        <ion-row>
          <ion-col>
            <div class="center-stats">
              <div><strong>Games</strong></div>
              <div>{{ngames}}</div>
            </div>
          </ion-col>
          <ion-col>
            <div class="center-stats">
              <div><strong>Achievements</strong></div>
              <div>{{fire.myProfile.achievements}}</div>
            </div>
          </ion-col>
          <ion-col>
            <div class="center-stats">
              <div><strong>Friends</strong></div>
              <div>{{nfriends}}</div>
            </div>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
    <!------------------ Profile Description ---------------->
    <ion-row class="ion-padding-horizontal">
      <strong>{{fire.myProfile.name}}</strong>
    </ion-row>
    <ion-row class="ion-margin">
      <div class="description">{{fire.myProfile.description}}</div>
    </ion-row>
  </div>

  <div class="profileContent">
    <ion-segment
      class="segment"
      [(ngModel)]="selectedSegment"
      (ionChange)="segmentChanged($event)"
    >
      <ion-segment-button value="games">
        <ion-icon name="game-controller-outline"></ion-icon>
      </ion-segment-button>

      <ion-segment-button value="posts">
        <ion-icon name="image-outline"></ion-icon>
      </ion-segment-button>

      <ion-segment-button value="reviews">
        <ion-icon name="book-outline"></ion-icon>
      </ion-segment-button>
    </ion-segment>

    <div *ngIf="selectedSegment === 'games'">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="6" *ngFor="let game of games">
            <app-game-player [data]="game"></app-game-player>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>

    <div *ngIf="selectedSegment === 'posts'">
      <app-post *ngFor="let post of posts" [data]="post"> </app-post>
    </div>

    <div *ngIf="selectedSegment === 'reviews'">
      <app-post *ngFor="let review of reviews" [data]="review"></app-post>
    </div>
  </div>
</ion-content>
